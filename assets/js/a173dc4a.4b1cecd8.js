(self.webpackChunk_2024msi_presentation=self.webpackChunk_2024msi_presentation||[]).push([[8983],{23911:(e,s,t)=>{"use strict";t.r(s),t.d(s,{assets:()=>Ne,contentTitle:()=>ye,default:()=>Ae,frontMatter:()=>ve,metadata:()=>_e,toc:()=>we});var a=t(85893),n=t(11151),i=t(67294),l=t(57940);function r(e){return e`# Ptychography Helper Functions`}function c(e){return e.html`<hr class="hideable-md">`}function o(e){return e("https://cdn.jsdelivr.net/gh/nicolaspanel/numjs@0.16/dist/numjs.min.js")}function m(e){return e("https://bundle.run/ndarray-ops@1.2.2")}function d(e){return e("https://bundle.run/ndarray-complex@1.0.3")}function h(e,s){return function(t,a){let n=e.zeros(t.shape);return s.atan2(n.selection,t.selection,a.selection),n}}function p(e,s){return function(t,a){let n=e.zeros(t.shape);return s.lts(n.selection,t.selection,a),s.bandseq(n.selection,1),n}}function u(e,s,t){return class a{constructor(s){this.shape=s;let t=s.slice();t.push(2),this.data=e.zeros(t),this._nulls=new Array(s.length).fill(null)}re(){return this.data.pick(...this._nulls,0)}im(){return this.data.pick(...this._nulls,1)}abs(){return e.sqrt(this.abs_sqr())}abs_sqr(){return e.add(this.re().multiply(this.re()),this.im().multiply(this.im()))}angle(){return s(this.im(),this.re())}clone(){let e=new a(this.shape);return e.data=this.data.clone(),e}conjugate(){let s=this.re().clone(),n=this.im().clone();t.conjeq(s.selection,n.selection);let i=new a(this.shape);return i.data=e.stack([s,n],-1),i}multiply(s){let n=this.re().clone(),i=this.im().clone(),l=s.re(),r=s.im();t.muleq(n.selection,i.selection,l.selection,r.selection);let c=new a(this.shape);return c.data=e.stack([n,i],-1),c}real_multiply(s){let n=this.re().clone(),i=this.im().clone(),l=s,r=e.zeros(s.shape);t.muleq(n.selection,i.selection,l.selection,r.selection);let c=new a(this.shape);return c.data=e.stack([n,i],-1),c}scalar_multiply(s,n){let i=this.re().clone(),l=this.im().clone();t.mulseq(i.selection,l.selection,s,n);let r=new a(this.shape);return r.data=e.stack([i,l],-1),r}add(s){let n=this.re().clone(),i=this.im().clone(),l=s.re(),r=s.im();t.addeq(n.selection,i.selection,l.selection,r.selection);let c=new a(this.shape);return c.data=e.stack([n,i],-1),c}subtract(s){let n=this.re().clone(),i=this.im().clone(),l=s.re(),r=s.im();t.subeq(n.selection,i.selection,l.selection,r.selection);let c=new a(this.shape);return c.data=e.stack([n,i],-1),c}}}function x(e){return function(s,t){let a=e.zeros(s),n=1/(s*t),i=1+((s-1)/2|0);for(var l=0;l<i;l++)a.set(l,l*n);for(l=i;l<s;l++)a.set(l,(l-s)*n);return a}}function j(e){return function(s,t){let a=[s.size,t.size],n=[];n[0]=e.zeros(a),n[1]=e.zeros(a);for(let e=0;e<a[1];e++)for(let i=0;i<a[0];i++)n[0].set(i,e,s.get(i)),n[1].set(i,e,t.get(e));return n}}function f(e){return function(s){let[t,a]=s.shape,n=t/2|0,i=a/2|0,l=e.zeros([t,a]);return l.slice([null,n],[null,i]).assign(s.slice(-n,-i),!1),l.slice([null,n],i).assign(s.slice(-n,[null,i]),!1),l.slice(-n,-i).assign(s.slice([null,n],[null,i]),!1),l.slice(-n,[null,i]).assign(s.slice([null,n],-i),!1),l}}function g(e,s,t,a){return function(n,i){let[l,r]=n.shape,[c,o]=i,m=new e([l,r]);m.data=s.fft(n.data);let d=t(l,1),h=t(r,1),[p,u]=a(d,h),x=-2*Math.PI,j=s.add(p.multiply(c),u.multiply(o)).multiply(x),f=new e([l,r]),g=s.cos(j),b=s.sin(j);f.data=s.stack([g,b],-1);let v=m.multiply(f);return v.data=s.ifft(v.data),v}}function b(e){return function(s,t){let[a,n]=t,i=new e([a,n]),l=a/2|0,r=n/2|0;return i.data.slice([null,l],[null,r],null).assign(s.slice([null,l],[null,r],null),!1),i.data.slice(-l,[null,r],null).assign(s.slice(-l,[null,r],null),!1),i.data.slice([null,l],-r,null).assign(s.slice([null,l],-r,null),!1),i.data.slice(-l,-r,null).assign(s.slice(-l,-r,null),!1),i}}function v(e,s,t){return function(a,n){let[i,l]=a.shape;console.log(i);let r=new e([i,l]);r.data=s.fft(a.data);let[c,o]=[i/n|0,l/n|0],m=t(r.data,[c,o]);return m.data=s.ifft(m.data),m}}function y(){return function(e){let s=9.109383*1e-30,t=1602177e-24,a=299792458;return 662607e-39/Math.sqrt(2*s*t*e)/Math.sqrt(1+t*e/2/s/a/a)*1e11}}function _(e){return function(s){let t=9.109383*1e-30,a=1602177e-24,n=299792458,i=e(s);return 2*Math.PI/i/s*(t*n*n+a*s)/(2*t*n*n+a*s)}}function N(e,s,t,a,n,i,l){return class{constructor(s,t,a,n,i){this._gpts=s.slice(),this._sampling=t.slice(),this._energy=a,this._wavelength=e(a),this._semiangle_cutoff=n,this._defocus=i}_get_scattering_angles(){let e=s(this._gpts[0],this._sampling[0]),i=s(this._gpts[1],this._sampling[1]),[l,r]=t(e,i);return[a.sqrt(a.add(l.multiply(l.multiply(this._wavelength*this._wavelength)),r.multiply(r.multiply(this._wavelength*this._wavelength)))),n(l,r)]}_evaluate_aberrations(e,s){let t=this._defocus/this._wavelength*Math.PI,n=e.multiply(e).multiply(t),l=a.cos(n),r=a.sin(n),c=new i(n.shape);return c.data=a.stack([l,r],-1),c}_evaluate_aperture(e,s){let t=this._semiangle_cutoff/1e3,n=new i(e.shape),r=l(e,t);return n.data=a.stack([r,a.zeros(e.shape)],-1),n}build(){let[e,s]=this._get_scattering_angles(),t=this._evaluate_aberrations(e,s),n=this._evaluate_aperture(e,s),l=t.multiply(n);this._fourier_array=l;let r=new i(l.shape);r.data=a.ifft(l.data);let c=Math.sqrt(r.abs_sqr().sum());return this._array=r.scalar_multiply(1/c,0),this}}}function w(e){return e`https://observablehq.com/@mootari/notebook-data`}function k(e,s){const t=e.module();return t.variable(s()).define(["md"],r),t.variable(s()).define(["htl"],c),t.variable(s("nj")).define("nj",["require"],o),t.variable(s("ops")).define("ops",["require"],m),t.variable(s("cops")).define("cops",["require"],d),t.variable(s("atan2")).define("atan2",["nj","ops"],h),t.variable(s("lt_int_s")).define("lt_int_s",["nj","ops"],p),t.variable(s("ComplexNDArray")).define("ComplexNDArray",["nj","atan2","cops"],u),t.variable(s("fftfreq")).define("fftfreq",["nj"],x),t.variable(s("meshgrid2D")).define("meshgrid2D",["nj"],j),t.variable(s("fftshift2D")).define("fftshift2D",["nj"],f),t.variable(s("fourier_shift")).define("fourier_shift",["ComplexNDArray","nj","fftfreq","meshgrid2D"],g),t.variable(s("corner_crop")).define("corner_crop",["ComplexNDArray"],b),t.variable(s("fourier_downsample")).define("fourier_downsample",["ComplexNDArray","nj","corner_crop"],v),t.variable(s("electron_wavelength_angstroms")).define("electron_wavelength_angstroms",y),t.variable(s("electron_interaction_parameter")).define("electron_interaction_parameter",["electron_wavelength_angstroms"],_),t.variable(s("ComplexProbe")).define("ComplexProbe",["electron_wavelength_angstroms","fftfreq","meshgrid2D","nj","atan2","ComplexNDArray","lt_int_s"],N),t.variable(s()).define(["md"],w),t}function A(e){return e`# Extended Ptychographic Iterative Engine

Here, we will use the extended ptychographic iterative engine (ePIE) to reconstruct the electrostatic potential of an fcc-like material made of 7 [111] atomic layers.`}function z(e){return e`First, hover over the probe intensity visualization to move the probe position around and see how the diffraction pattern below changes.`}function R(e,s,t,a,n,i,l){let r=[];return e.visualization_checkboxes.includes("probe")&&(r=[...r,s]),e.visualization_checkboxes.includes("diffraction")&&(r=[...r,t]),e.visualization_checkboxes.includes("gradient")&&(r=[...r,a]),e.visualization_checkboxes.includes("potential")&&(r=[...r,n]),i`<div style="display:flex; flex-wrap: wrap;">

${r.map((s=>l.legend({width:e.width,marginLeft:10,marginRight:10,label:s.label,color:{domain:s.domain,scheme:s.scheme,type:s.type,exponent:s.exponent,style:{background:"none"}}})))}`}function P(e,s,t,a,n,i,l,r,c,o,m){let d=10,h=[];e.visualization_checkboxes.includes("probe")&&(h=[...h,s]),e.visualization_checkboxes.includes("diffraction")&&(h=[...h,t]),e.visualization_checkboxes.includes("gradient")&&(h=[...h,a]),e.visualization_checkboxes.includes("potential")&&(h=[...h,n]);let p=h.length,u=e.width*p,x=e.width/i[0]*i[1];return l.plot({width:u,height:x-20,padding:0,margin:0,x:{axis:null,range:[0,u]},y:{axis:null,range:[0,x]},marks:[l.cell(r.cross(r.range(p),[0]).map((e=>{let[s,t]=e;return{a:s,b:t}})),{x:"a",y:"b",render:(e,s,t)=>{let{x:a,y:n}=s,{x:i,y:l,channels:{x:{value:p},y:{value:u}}}=t;return r.create("svg:g").call((s=>s.selectAll().data(e).join("g").attr("transform",(e=>`translate(${i[e]+d},${l[e]})`)).append((e=>c(h,p[e],a.bandwidth()-20,n.bandwidth()-20))))).on("pointerenter pointermove",(e=>o.value=m(r.pointer(e),[d,0],[a.bandwidth()-20,n.bandwidth()-20]))).node()}})]})}function I(e){return e`## Gradient Descent Intuition

Toggling the "gradient" and "potential" checkboxes below will plot the phase update on the reconstructed potential in the current probe position.`}function M(e){return e.form({visualization_checkboxes:e.checkbox(["probe","diffraction","gradient","potential"],{value:["probe","diffraction"],label:"panels"}),options:e.checkbox(["reconstruct","random order"],{value:[],label:"ePIE"}),width:e.range([100,500],{value:220,step:1,label:"width"}),reset_potential_and_probe_position:e.button("reset potential and probe position")})}function C(e){return e`## Reactive Reconstruction
Toggle the "reconstruct" checkbox above to start a reactive reconstruction!`}function E(e){return e`This converges rather slowly when we scan in a raster. Toggling the "randomize" checkbox above will instead perform stochastic gradient descent.`}function D(e){return e.html`<hr class="hideable-md">`}async function q(e,s){let t=new Float32Array(await e("FCC-slab-dps-25x25x96x96-float32-shifted.npy").arrayBuffer()),a=Array.from(t),n=s.zeros([25,25,96,96]);return n.selection.data=a,s.sqrt(n)}async function B(e,s){let t=new Float32Array(await e("FCC-slab-dps-25x25x96x96-float32.npy").arrayBuffer()),a=Array.from(t),n=s.zeros([25,25,96,96]);return n.selection.data=a,s.sqrt(n)}function O(e,s,t){if(e.visualization_checkboxes.includes("diffraction")){let e=s.pick(t[1]/4,t[0]/4,null,null).pow(2);return{label:"Diffraction Intensity",scheme:"Magma",domain:[0,.003],type:"pow",exponent:.5,width:e.shape[1],height:e.shape[0],values:e.flatten().tolist()}}}function X(e){return e.shape.slice(2)}function J(e,s){return new e(s,[.255,.255],8e4,25,150).build()}function F(e,s,t,a){let n=e(s._array,[-t[1],-t[0]]).abs_sqr();return{label:"Illuminating Probe Intensity",scheme:"Greys",domain:[0,a],width:n.shape[1],height:n.shape[0],values:n.flatten().tolist()}}function Q(e){return e._array.abs_sqr().max()}function L(e,s){let t=[];for(let a=0;a<e[0];a+=4)for(let s=0;s<e[1];s+=4)t=[...t,{x:a,y:s}];return s.rect(t,s.pointer({x1:"x",x2:e=>e.x+4,y1:"y",y2:e=>e.y+4,stroke:"none",fill:"none"}))}function S(e,s){return function(t,a){let n=a.clone(),i=new e(t.shape),l=s.cos(t),r=s.sin(t);return i.data=s.stack([l,r],-1),n=n.multiply(i),[n,i]}}function Y(e,s){return function(t,a){let n=new e(a.shape);n.data=s.fft(a.data);let i=n.angle(),l=new e(a.shape),r=s.cos(i),c=s.sin(i);l.data=s.stack([r,c],-1),l=l.real_multiply(t);let o=l.subtract(n),m=new e(a.shape);return m.data=s.ifft(o.data),m}}function U(e,s){return e.zeros(s)}function T(e,s){return e.zeros(s)}function G(e){return{label:"Reconstructed Potential",scheme:"Magma",domain:[0,.75*e.max()+1e-4],width:e.shape[1],height:e.shape[0],values:e.flatten().tolist()}}function K(e,s){return function(t,a,n){let[i,l]=e(t,a);return[l,s(n,i)]}}function Z(e,s,t,a,n,i){return function(l,r,c){let[o,m]=r,d=o/4,h=(e[1]-m)%e[1]/4,p=s.pick(h,d,null,null),u=t(a._array,[-m,-o]),[x,j]=n(l,u,p),f=j.multiply(x.conjugate()).multiply(u.conjugate()).scalar_multiply(0,-1/i);return l.add(f.re().multiply(c))}}function H(e,s,t){return e(s,t,1)}function V(e,s,t){if(e.visualization_checkboxes.includes("gradient")){let e=s.subtract(t);return{label:"Gradient Descent Step",scheme:"PuOr",domain:[e.min(),e.max()],width:e.shape[1],height:e.shape[0],values:e.flatten().tolist()}}}function W(e){return function(s){return e.clip(s,0)}}function $(e,s){if(e.options.includes("random order")){let e=s.randomInt(25);return[4*e(),4*e()]}return[0,0]}function ee(){return null}function se(e){return[e[0]/2,e[1]/2]}function te(e,s,t,a){let n=!1;return null!==e&&(e[0]==s[0]&&e[1]==t[1]-s[1]||(n=!0,a.value=[e[0],t[1]-e[1]])),n}function ae(e,s,t,a,n,i,l,r,c,o,m){if(e.options.includes("reconstruct")){if(e.options.includes("random order")){let e=s.randomInt(25),a=4*e(),n=4*e();t.value=[a,n]}else a[0]+4<100?t.value=[a[0]+4,a[1]]:a[1]+4<100?t.value=[0,a[1]+4]:t.value=[a[0]+4,0];e.visualization_checkboxes.includes("probe")&&(n.value=a);let o=i(l,a,1);r.value=c(o)}else o||(m.value=l.clone())}function ne(e,s,t,a,n,i,l,r,c,o){e&&s.visualization_checkboxes.includes("gradient")&&(t.value=a(n,i,1),s.visualization_checkboxes.includes("potential")&&(l.value=r(c),o.value=n.clone()))}function ie(){return 0}function le(e,s,t,a,n,i,l,r,c,o){e.reset_potential_and_probe_position!=s&&(t.value=null,a.value=n.zeros(i),l.value=n.zeros(i),r.value=[i[0]/2,i[1]/2],c.value=[0,0],o.value=e.reset_potential_and_probe_position)}function re(e){return(s,t,a,n)=>e.plot({width:a,height:n,margin:0,x:{axis:null},y:{axis:null},color:{label:s[t].label,domain:s[t].domain,scheme:s[t].scheme,type:s[t].type,exponent:s[t].exponent,style:{background:"none"}},style:{background:"none"},marks:[e.raster(s[t].values,{width:s[t].width,height:s[t].height}),e.frame({strokeWidth:1})]})}function ce(e){return function(s,t,a){let[n,i]=s,[l,r]=t,[c,o]=a,[m,d]=[(n-l)/c,(i-r)/o];return m>1?null:[4*Math.round(m*e[0]/4),4*Math.round(d*e[1]/4)]}}function oe(e,s){const a=e.module();function n(){return this.url}const i=new Map([["FCC-slab-dps-25x25x96x96-float32.npy",{url:new URL(t(29557),t.b),mimeType:"application/octet-stream",toString:n}],["FCC-slab-dps-25x25x96x96-float32-shifted.npy",{url:new URL(t(46836),t.b),mimeType:"application/octet-stream",toString:n}]]);a.builtin("FileAttachment",e.fileAttachments((e=>i.get(e)))),a.variable(s()).define(["md"],A),a.variable(s()).define(["md"],z),a.variable(s("visualization_legends")).define("visualization_legends",["viz_inputs","probe_dictionary","dp_dictionary","gradient_dictionary","potential_dictionary","html","Plot"],R),a.variable(s("main_visualization")).define("main_visualization",["viz_inputs","probe_dictionary","dp_dictionary","gradient_dictionary","potential_dictionary","gpts","Plot","d3","raster_subplot","mutable mouse_pos","left_panel_pixels_to_pos"],P),a.variable(s()).define(["md"],I),a.variable(s("viewof viz_inputs")).define("viewof viz_inputs",["Inputs"],M),a.variable(s("viz_inputs")).define("viz_inputs",["Generators","viewof viz_inputs"],((e,s)=>e.input(s))),a.variable(s()).define(["md"],C),a.variable(s()).define(["md"],E),a.variable(s()).define(["htl"],D);const l=e.module(k);return a.import("nj",l),a.import("ComplexNDArray",l),a.import("fftfreq",l),a.import("meshgrid2D",l),a.import("fourier_shift",l),a.import("fourier_downsample",l),a.import("ComplexProbe",l),a.variable(s("diffraction_amplitudes_shifted")).define("diffraction_amplitudes_shifted",["FileAttachment","nj"],q),a.variable(s("diffraction_amplitudes")).define("diffraction_amplitudes",["FileAttachment","nj"],B),a.variable(s("dp_dictionary")).define("dp_dictionary",["viz_inputs","diffraction_amplitudes_shifted","probe_xy"],O),a.variable(s("gpts")).define("gpts",["diffraction_amplitudes"],X),a.variable(s("real_space_probe")).define("real_space_probe",["ComplexProbe","gpts"],J),a.variable(s("probe_dictionary")).define("probe_dictionary",["fourier_shift","real_space_probe","probe_xy","probe_normalization"],F),a.variable(s("probe_normalization")).define("probe_normalization",["real_space_probe"],Q),a.variable(s("mouseover_pointer")).define("mouseover_pointer",["gpts","Plot"],L),a.variable(s("overlap_projection")).define("overlap_projection",["ComplexNDArray","nj"],S),a.variable(s("fourier_projection")).define("fourier_projection",["ComplexNDArray","nj"],Y),a.define("initial potential",["nj","gpts"],U),a.variable(s("mutable potential")).define("mutable potential",["Mutable","initial potential"],((e,s)=>new e(s))),a.variable(s("potential")).define("potential",["mutable potential"],(e=>e.generator)),a.define("initial potential_static",["nj","gpts"],T),a.variable(s("mutable potential_static")).define("mutable potential_static",["Mutable","initial potential_static"],((e,s)=>new e(s))),a.variable(s("potential_static")).define("potential_static",["mutable potential_static"],(e=>e.generator)),a.variable(s("potential_dictionary")).define("potential_dictionary",["potential"],G),a.variable(s("forward_operator")).define("forward_operator",["overlap_projection","fourier_projection"],K),a.variable(s("gradient_descent")).define("gradient_descent",["gpts","diffraction_amplitudes","fourier_shift","real_space_probe","forward_operator","probe_normalization"],Z),a.define("initial gradient_step",["gradient_descent","potential_static","probe_xy"],H),a.variable(s("mutable gradient_step")).define("mutable gradient_step",["Mutable","initial gradient_step"],((e,s)=>new e(s))),a.variable(s("gradient_step")).define("gradient_step",["mutable gradient_step"],(e=>e.generator)),a.variable(s("gradient_dictionary")).define("gradient_dictionary",["viz_inputs","gradient_step","potential_static"],V),a.variable(s("positivity_constraint")).define("positivity_constraint",["nj"],W),a.define("initial reconstruct_xy",["viz_inputs","d3"],$),a.variable(s("mutable reconstruct_xy")).define("mutable reconstruct_xy",["Mutable","initial reconstruct_xy"],((e,s)=>new e(s))),a.variable(s("reconstruct_xy")).define("reconstruct_xy",["mutable reconstruct_xy"],(e=>e.generator)),a.define("initial mouse_pos",ee),a.variable(s("mutable mouse_pos")).define("mutable mouse_pos",["Mutable","initial mouse_pos"],((e,s)=>new e(s))),a.variable(s("mouse_pos")).define("mouse_pos",["mutable mouse_pos"],(e=>e.generator)),a.define("initial probe_xy",["gpts"],se),a.variable(s("mutable probe_xy")).define("mutable probe_xy",["Mutable","initial probe_xy"],((e,s)=>new e(s))),a.variable(s("probe_xy")).define("probe_xy",["mutable probe_xy"],(e=>e.generator)),a.variable(s("probe_moving")).define("probe_moving",["mouse_pos","probe_xy","gpts","mutable probe_xy"],te),a.variable(s("reconstruct_mutable")).define("reconstruct_mutable",["viz_inputs","d3","mutable reconstruct_xy","reconstruct_xy","mutable probe_xy","gradient_descent","potential","mutable potential","positivity_constraint","probe_moving","mutable potential_static"],ae),a.variable(s("moving_mutable")).define("moving_mutable",["probe_moving","viz_inputs","mutable gradient_step","gradient_descent","potential_static","probe_xy","mutable potential_static","positivity_constraint","gradient_step","mutable potential"],ne),a.define("initial previous_potential_reset_value",ie),a.variable(s("mutable previous_potential_reset_value")).define("mutable previous_potential_reset_value",["Mutable","initial previous_potential_reset_value"],((e,s)=>new e(s))),a.variable(s("previous_potential_reset_value")).define("previous_potential_reset_value",["mutable previous_potential_reset_value"],(e=>e.generator)),a.variable(s("reset_potential_mutable")).define("reset_potential_mutable",["viz_inputs","previous_potential_reset_value","mutable mouse_pos","mutable potential","nj","gpts","mutable potential_static","mutable probe_xy","mutable reconstruct_xy","mutable previous_potential_reset_value"],le),a.variable(s("raster_subplot")).define("raster_subplot",["Plot"],re),a.variable(s("left_panel_pixels_to_pos")).define("left_panel_pixels_to_pos",["gpts"],ce),a}function me(e){return e}function de(e){return e}function he(e){return e}function pe(e){return e.html`<hr class="hideable-md">`}function ue(e){return e}function xe(e){return e}function je(e){return e}function fe(e,s){const t=e.module();t.variable(s()).define(["visualization_legends"],me),t.variable(s()).define(["main_visualization"],de),t.variable(s()).define(["viewof viz_inputs"],he),t.variable(s()).define(["htl"],pe);const a=e.module(oe);return t.import("visualization_legends",a),t.import("main_visualization",a),t.import("viewof viz_inputs",a),t.import("viz_inputs",a),t.import("reset_potential_mutable",a),t.import("reconstruct_mutable",a),t.import("moving_mutable",a),t.variable(s()).define(["reset_potential_mutable"],ue),t.variable(s()).define(["reconstruct_mutable"],xe),t.variable(s()).define(["moving_mutable"],je),t}const ge=function(){const e=(0,i.useRef)();return(0,i.useEffect)((()=>{const s=new l.Runtime;return s.module(fe,l.Inspector.into(e.current)),()=>s.dispose()}),[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{ref:e})})};var be=t(84818);const ve={id:"ptycho-back_epie",sidebar_position:3,title:"Electron Ptychography",hide_table_of_contents:!0,hide_title:!0},ye=void 0,_e={id:"ptycho-back/ptycho-back_epie",title:"Electron Ptychography",description:"Electron Ptychography",source:"@site/slides/ptycho-back/ptycho-back_epie.mdx",sourceDirName:"ptycho-back",slug:"/ptycho-back/ptycho-back_epie",permalink:"/2024msi-presentation/slides/ptycho-back/ptycho-back_epie",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"ptycho-back_epie",sidebar_position:3,title:"Electron Ptychography",hide_table_of_contents:!0,hide_title:!0},sidebar:"tutorialSidebar",previous:{title:"Proximal Gradient Methods",permalink:"/2024msi-presentation/slides/ptycho-back/ptycho-back_projections"},next:{title:"Open-Source Phase Retrieval",permalink:"/2024msi-presentation/slides/open-source/open-source-methods_py4dstem"}},Ne={},we=[{value:"Electron Ptychography",id:"electron-ptychography",level:2}];function ke(e){const s={annotation:"annotation",h2:"h2",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mover:"mover",mrow:"mrow",mstyle:"mstyle",msub:"msub",msup:"msup",mtable:"mtable",mtd:"mtd",mtr:"mtr",semantics:"semantics",span:"span",ul:"ul",...(0,n.useMDXComponents)(),...e.components},{Details:t}=s;return t||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(be.default,{width:"240px",height:"60px",className:"outline-header"}),"\n",(0,a.jsx)(s.h2,{id:"electron-ptychography",children:"Electron Ptychography"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Each diffraction pattern \u2192 non-convex set","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Phase problem: reconstruct probe ",(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsx)(s.mrow,{children:(0,a.jsxs)(s.mover,{accent:"true",children:[(0,a.jsx)(s.mi,{mathvariant:"script",children:"P"}),(0,a.jsx)(s.mo,{children:"^"})]})}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\hat{\\mathcal{P}}"})]})})}),(0,a.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"0.9468em"}}),(0,a.jsx)(s.span,{className:"mord accent",children:(0,a.jsx)(s.span,{className:"vlist-t",children:(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsxs)(s.span,{className:"vlist",style:{height:"0.9468em"},children:[(0,a.jsxs)(s.span,{style:{top:"-3em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord mathcal",style:{marginRight:"0.08222em"},children:"P"})]}),(0,a.jsxs)(s.span,{style:{top:"-3.2523em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"accent-body",style:{left:"-0.1667em"},children:(0,a.jsx)(s.span,{className:"mord",children:"^"})})]})]})})})})]})})]})," and object ",(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsx)(s.mrow,{children:(0,a.jsxs)(s.mover,{accent:"true",children:[(0,a.jsx)(s.mi,{mathvariant:"script",children:"O"}),(0,a.jsx)(s.mo,{children:"^"})]})}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\hat{\\mathcal{O}}"})]})})}),(0,a.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"0.9468em"}}),(0,a.jsx)(s.span,{className:"mord accent",children:(0,a.jsx)(s.span,{className:"vlist-t",children:(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsxs)(s.span,{className:"vlist",style:{height:"0.9468em"},children:[(0,a.jsxs)(s.span,{style:{top:"-3em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord mathcal",style:{marginRight:"0.02778em"},children:"O"})]}),(0,a.jsxs)(s.span,{style:{top:"-3.2523em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"accent-body",style:{left:"-0.1667em"},children:(0,a.jsx)(s.span,{className:"mord",children:"^"})})]})]})})})})]})})]})," from set of phase-less diffraction intensities ",(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"{"}),(0,a.jsx)(s.mi,{children:"I"}),(0,a.jsx)(s.mo,{stretchy:"false",children:"}"})]}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\{I\\}"})]})})}),(0,a.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(s.span,{className:"mopen",children:"{"}),(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"},children:"I"}),(0,a.jsx)(s.span,{className:"mclose",children:"}"})]})})]})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.span,{className:"katex-display",children:(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsxs)(s.mtable,{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em",children:[(0,a.jsxs)(s.mtr,{children:[(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,a.jsxs)(s.mrow,{children:[(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"\u03c8"}),(0,a.jsx)(s.mi,{children:"j"})]}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mi,{mathvariant:"bold-italic",children:"r"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})})}),(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mrow,{}),(0,a.jsx)(s.mo,{children:"="}),(0,a.jsxs)(s.mover,{accent:"true",children:[(0,a.jsx)(s.mi,{mathvariant:"script",children:"P"}),(0,a.jsx)(s.mo,{children:"^"})]}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mi,{mathvariant:"bold-italic",children:"r"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"}),(0,a.jsx)(s.mo,{children:"\xd7"}),(0,a.jsxs)(s.mover,{accent:"true",children:[(0,a.jsx)(s.mi,{mathvariant:"script",children:"O"}),(0,a.jsx)(s.mo,{children:"^"})]}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mi,{mathvariant:"bold-italic",children:"r"}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{mathvariant:"bold-italic",children:"R"}),(0,a.jsx)(s.mi,{children:"j"})]}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})})})]}),(0,a.jsxs)(s.mtr,{children:[(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,a.jsxs)(s.mrow,{children:[(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"I"}),(0,a.jsx)(s.mi,{children:"j"})]}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mi,{mathvariant:"bold-italic",children:"k"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})})}),(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mrow,{}),(0,a.jsx)(s.mo,{children:"="}),(0,a.jsxs)(s.msup,{children:[(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{fence:"true",children:"\u2223"}),(0,a.jsx)(s.mi,{mathvariant:"script",children:"F"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{fence:"true",children:"["}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"\u03c8"}),(0,a.jsx)(s.mi,{children:"j"})]}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mi,{mathvariant:"bold-italic",children:"r"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"}),(0,a.jsx)(s.mo,{fence:"true",children:"]"})]}),(0,a.jsx)(s.mo,{fence:"true",children:"\u2223"})]}),(0,a.jsx)(s.mn,{children:"2"})]})]})})})]})]}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\begin{aligned}\n  \\psi_j(\\boldsymbol{r}) &= \\hat{\\mathcal{P}}(\\boldsymbol{r}) \\times \\hat{\\mathcal{O}}(\\boldsymbol{r}-\\boldsymbol{R}_j) \\\\\n  I_j(\\boldsymbol{k}) &= \\left| \\mathcal{F}\\left[\\psi_j(\\boldsymbol{r})\\right]\\right|^2\n\\end{aligned}"})]})})}),(0,a.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"3.2208em",verticalAlign:"-1.3604em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsxs)(s.span,{className:"mtable",children:[(0,a.jsx)(s.span,{className:"col-align-r",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.8604em"},children:[(0,a.jsxs)(s.span,{style:{top:"-3.9136em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"\u03c8"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"},children:"j"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.2861em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord boldsymbol",style:{marginRight:"0.03194em"},children:"r"})})}),(0,a.jsx)(s.span,{className:"mclose",children:")"})]})]}),(0,a.jsxs)(s.span,{style:{top:"-2.2996em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"},children:"I"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0785em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"},children:"j"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.2861em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord boldsymbol",style:{marginRight:"0.01852em"},children:"k"})})}),(0,a.jsx)(s.span,{className:"mclose",children:")"})]})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"1.3604em"},children:(0,a.jsx)(s.span,{})})})]})}),(0,a.jsx)(s.span,{className:"col-align-l",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.8604em"},children:[(0,a.jsxs)(s.span,{style:{top:"-3.9136em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(s.span,{className:"mrel",children:"="}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(s.span,{className:"mord accent",children:(0,a.jsx)(s.span,{className:"vlist-t",children:(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsxs)(s.span,{className:"vlist",style:{height:"0.9468em"},children:[(0,a.jsxs)(s.span,{style:{top:"-3em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord mathcal",style:{marginRight:"0.08222em"},children:"P"})]}),(0,a.jsxs)(s.span,{style:{top:"-3.2523em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"accent-body",style:{left:"-0.1667em"},children:(0,a.jsx)(s.span,{className:"mord",children:"^"})})]})]})})})}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord boldsymbol",style:{marginRight:"0.03194em"},children:"r"})})}),(0,a.jsx)(s.span,{className:"mclose",children:")"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\xd7"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mord accent",children:(0,a.jsx)(s.span,{className:"vlist-t",children:(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsxs)(s.span,{className:"vlist",style:{height:"0.9468em"},children:[(0,a.jsxs)(s.span,{style:{top:"-3em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord mathcal",style:{marginRight:"0.02778em"},children:"O"})]}),(0,a.jsxs)(s.span,{style:{top:"-3.2523em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"accent-body",style:{left:"-0.1667em"},children:(0,a.jsx)(s.span,{className:"mord",children:"^"})})]})]})})})}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord boldsymbol",style:{marginRight:"0.03194em"},children:"r"})})}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord boldsymbol",style:{marginRight:"0.00421em"},children:"R"})})}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"},children:"j"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.2861em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mclose",children:")"})]})]}),(0,a.jsxs)(s.span,{style:{top:"-2.2996em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(s.span,{className:"mrel",children:"="}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsxs)(s.span,{className:"minner",children:[(0,a.jsxs)(s.span,{className:"minner",children:[(0,a.jsx)(s.span,{className:"mopen delimcenter",style:{top:"0em"},children:"\u2223"}),(0,a.jsx)(s.span,{className:"mord mathcal",style:{marginRight:"0.09931em"},children:"F"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsxs)(s.span,{className:"minner",children:[(0,a.jsx)(s.span,{className:"mopen delimcenter",style:{top:"0em"},children:"["}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"\u03c8"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"},children:"j"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.2861em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord boldsymbol",style:{marginRight:"0.03194em"},children:"r"})})}),(0,a.jsx)(s.span,{className:"mclose",children:")"}),(0,a.jsx)(s.span,{className:"mclose delimcenter",style:{top:"0em"},children:"]"})]}),(0,a.jsx)(s.span,{className:"mclose delimcenter",style:{top:"0em"},children:"\u2223"})]}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsx)(s.span,{className:"vlist-t",children:(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.954em"},children:(0,a.jsxs)(s.span,{style:{top:"-3.2029em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mtight",children:"2"})})]})})})})})]})]})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"1.3604em"},children:(0,a.jsx)(s.span,{})})})]})})]})})]})})]})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Rich literature of reconstruction algorithms:","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:['"Fourier" projection',"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Reconstructed probe and object accurately reproduce measured intensities"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:['"Overlap" projection',"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Reconstructed probe and object are self-consistent with adjacent scanning positions"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(t,{children:[(0,a.jsx)("summary",{children:" Interactive Ptychography Simulation "}),(0,a.jsx)(ge,{})]})]})}function Ae(e={}){const{wrapper:s}={...(0,n.useMDXComponents)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(ke,{...e})}):ke(e)}},61187:(e,s,t)=>{var a={"./arquero.js":29391,"./arrow.js":57938,"./dependencies.js":67363,"./dependency.js":10170,"./dom/canvas.js":76342,"./dom/context2d.js":99733,"./dom/download.js":32938,"./dom/element.js":63380,"./dom/index.js":81820,"./dom/input.js":37585,"./dom/range.js":57170,"./dom/select.js":31106,"./dom/svg.js":55895,"./dom/text.js":30281,"./dom/uid.js":81831,"./duckdb.js":93874,"./fileAttachment.js":33277,"./files/buffer.js":43825,"./files/index.js":46155,"./files/text.js":9974,"./files/url.js":12174,"./generators/disposable.js":12238,"./generators/filter.js":7254,"./generators/index.js":26785,"./generators/input.js":28044,"./generators/map.js":33921,"./generators/observe.js":61367,"./generators/queue.js":49042,"./generators/range.js":52707,"./generators/valueAt.js":15890,"./generators/worker.js":8179,"./html.js":46566,"./index.js":7138,"./leaflet.js":53861,"./library.js":64739,"./md.js":21715,"./mermaid.js":98843,"./mutable.js":30221,"./now.js":3666,"./promises/delay.js":52984,"./promises/index.js":15898,"./promises/tick.js":22989,"./promises/when.js":37782,"./require.js":19204,"./resolve.js":95545,"./sqlite.js":64054,"./svg.js":54745,"./table.js":9669,"./template.js":19225,"./tex.js":40667,"./that.js":5243,"./vegalite.js":70423,"./width.js":10282,"./xlsx.js":40538};function n(e){return Promise.resolve().then((()=>{if(!t.o(a,e)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t(a[e])}))}n.keys=()=>Object.keys(a),n.id=61187,e.exports=n},84818:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a,n,i=t(67294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l.apply(this,arguments)}const r=e=>{let{title:s,titleId:t,...r}=e;return i.createElement("svg",l({fill:"currentColor",fontFamily:"system-ui, sans-serif",fontSize:10,textAnchor:"middle",width:800,height:200,viewBox:"0 0 800 200",id:"svg8",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg",style:{display:"block",background:"#fff",height:"intrinsic",maxWidth:"100%"},"aria-labelledby":t},r),s?i.createElement("title",{id:t},s):null,a||(a=i.createElement("style",{id:"style2"})),n||(n=i.createElement("g",{"aria-label":"raster",id:"g6",transform:"translate(0 -100.25)"},i.createElement("image",{transform:"matrix(1 0 0 -1 .5 400)",width:799,height:399.5,preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,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",id:"image4"}))))}},46836:(e,s,t)=>{"use strict";e.exports=t.p+"78a18ff1812c111c.bin"},29557:(e,s,t)=>{"use strict";e.exports=t.p+"631f8cfa3d6bae2a.bin"}}]);